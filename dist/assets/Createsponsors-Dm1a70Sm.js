import{f as x,r as f,a as g,t as b,j as e,k as a}from"./index-CkQwACeJ.js";import{L as w}from"./index-C19yN6Iw.js";import{S as j,N,P as v,a as y}from"./pagination-44wtpZEc.js";const E=()=>{var i;const{user:d}=x(t=>t.user),[o,u]=f.useState(""),m=g(),[p,{isLoading:n}]=b(),s=w("multiple",5),h=async t=>{var c;if(t.preventDefault(),!o){a.error("Enter all fields");return}if(!s.file||s.file.length===0){a.error("Please select at least one photo");return}const r=new FormData;r.set("name",o),s.file.forEach(l=>{r.append("photos",l)});try{(c=(await p({id:d._id,sponsorData:r})).data)!=null&&c.success?(a.success("Sponsor created successfully"),m("/sponsors")):a.error("Failed to create sponsor")}catch(l){a.error(`An error occurred while creating the sponsor ${l}`)}};return e.jsxs("div",{className:"bg-gray-600 pt-20 min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsxs("div",{className:"bg-white h-96 w-full md:w-1/2 rounded-lg mb-4 flex items-center justify-center p-4 overflow-hidden",children:[s.error&&e.jsx("p",{className:"text-red-500",children:s.error}),((i=s.preview)==null?void 0:i.length)>0?e.jsx(j,{modules:[N,v],navigation:!0,pagination:{clickable:!0},className:"w-full h-full",children:s.preview.map((t,r)=>e.jsx(y,{className:"flex justify-center items-center",children:e.jsx("img",{src:t,alt:`Preview ${r}`,className:"w-full h-full object-contain rounded-lg"})},r))}):e.jsx("p",{className:"text-center",children:"No images selected"})]}),e.jsx("div",{className:"bg-white w-full md:w-1/2 text-black font-bold p-6 rounded-lg",children:e.jsxs("form",{className:"flex flex-col space-y-6",onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 text-lg block",children:"Name"}),e.jsx("input",{type:"text",placeholder:"Enter Name",onChange:t=>u(t.target.value),className:"px-4 py-2.5 text-lg rounded-md bg-white border border-gray-400 w-full outline-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 text-base block",children:"Photos"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,required:!0,onChange:s.changeHandler,className:"w-auto bg-gray-300 p-1 hover:bg-gray-700 hover:text-white rounded-2xl"})]}),e.jsx("button",{type:"submit",disabled:n,className:"bg-black text-white h-12 rounded-2xl hover:bg-blue-900 transition-colors duration-300",children:n?"Creating...":"Create"})]})})]})};export{E as default};
